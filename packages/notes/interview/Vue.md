# 收集点面试题(Vue篇)

---

## 1. ==Vue3 面试题：为什么组件实例只可以在 setup 方法中获取，设计原理是什么？==

在运行组件的 setup 方法**之前**，会把当前运行的组件实例设置在一个全局的变量中：**currentInstance**，运行 setup 方法结束之后就会把当前的全局组件实例变量 currentInstance **设置为空**。所以组件实例只可以在 setup 方法中获取。

## 2. ==Vue 和 React 的区别==

### 3. ==使用 Object.defineProperty 来进行数据劫持有什么缺点==

1. 第一是对象的属性添加删除变化无法被监听到，因为一开始遍历对象并没有这些属性，所以必须使用 `Vue.$set` 和 `Vue.$delete` 才能为后来变更的属性添加上响应式。
2. `defineProperty` 实现数据劫持的原理主要是对某个属性的 getter 和 setter 操作进行拦截，这就导致想要监听整个对象的属性变化需要递归遍历，性能开销大。
3. `defineProperty` 可以监视数组下标，但是需要遍历整个数组，这样的性能开销非常大，并且用户这样操作的次数也不多。

